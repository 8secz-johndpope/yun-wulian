(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-myComments-myComments"],{"457f":function(t,e,i){"use strict";i.r(e);var n=i("9c00"),s=i("be6c");for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var c,a=i("f0c5"),u=Object(a["a"])(s["default"],n["b"],n["c"],!1,null,"3cbd5ed0",null,!1,n["a"],c);e["default"]=u.exports},"9c00":function(t,e,i){"use strict";var n,s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"index",style:[{"min-height":t.secondHeight+"px"}]},[i("v-uni-view",{staticClass:"list-box"},t._l(t.list,function(e,n){return i("v-uni-view",{key:n,staticClass:"container_of_slide"},[i("v-uni-view",{staticClass:"slide_list",style:{transform:"translate3d("+e.slide_x+"px, 0, 0)"},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchStart(e,n)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchEnd(e,n)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.touchMove(e,n)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.recover(n)}}},[i("v-uni-view",{staticClass:"now-message-info",style:{width:t.Screen_width+"px"},attrs:{"hover-class":"uni-list-cell-hover"}},[i("v-uni-view",{staticClass:"list-right"},[i("v-uni-view",{staticClass:"list-title"},[t._v(t._s(e.content))])],1),i("v-uni-view",{staticClass:"list-right-1"},[t._v(t._s(e.create_time))])],1),i("v-uni-view",{staticClass:"group-btn"},[i("v-uni-view",{staticClass:"removeM btn-div",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.removeM(n,e.id)}}},[t._v("删除")])],1)],1)],1)}),1)],1)},o=[];i.d(e,"b",function(){return s}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return n})},a88f:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac6a");var n=i("c78e"),s=1,o=!0,c={computed:{Screen_width:function(){return uni.getSystemInfoSync().windowWidth}},data:function(){return{start_slide_x:0,btnWidth:0,startX:0,LastX:0,startTime:0,screenName:"",list:[],btuBottom:"0",secondHeight:""}},onReachBottom:function(){o&&this.getList()},onShow:function(){var t=uni.getSystemInfoSync();this.secondHeight=t.windowHeight,o&&this.getList()},onUnload:function(){s=1,o=!0},methods:{getList:function(){var t=this;n.get({url:"user/comments/my",data:{page:s+",7"},success:function(e){if(1==e.code){var i=e.data.list,n=i.map(function(t){return{id:t.id,content:t.content,slide_x:0,create_time:t.create_time}});s++,t.list=t.list.concat(n)}0==e.code&&(o=!1,uni.showToast({title:"没有更多啦",icon:"none",duration:500}))}})},cancelEvent:function(){this.visible=!1},touchStart:function(t,e){var i=this;this.startTime=t.timeStamp,this.start_slide_x=this.list[e].slide_x,uni.createSelectorQuery().selectAll(".group-btn").boundingClientRect().exec(function(t){null!=t[0]&&(i.btnWidth=-1*t[0][e].width)}),this.startX=t.touches[0].pageX,this.lastX=this.startX,this.list.forEach(function(t,i){i!==e&&(t.slide_x=0)})},touchMove:function(t,e){var i=t.touches[0].pageX,n=i-this.lastX,s=this.list[e].slide_x+n;s<=0&&s>=this.btnWidth&&(this.list[e].slide_x=s),this.lastX=i},touchEnd:function(t,e){var i=10,n=t.timeStamp,s=this.startX-this.lastX;Math.abs(n-this.startTime)>200&&(i=this.btnWidth/-2),this.list[e].slide_x=s>i?this.btnWidth:s<-1*i?0:this.start_slide_x},recover:function(t){this.list[t].slide_x=0},removeM:function(t,e){var i=this;n.delete({url:"user/comments/"+e,success:function(e){1==e.code&&(uni.showToast({title:e.msg,duration:1500,icon:"success"}),o?(i.list=[],s=1,i.getList()):i.list.splice(t,1))}})}}};e.default=c},be6c:function(t,e,i){"use strict";i.r(e);var n=i("a88f"),s=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=s.a},c78e:function(t,e,i){"use strict";var n="web",s=(getApp(),"http://yun.jdwanxiang.com");t.exports={HOST:s,API_ROOT:s+"/api/",DeviceType:n,post:function(t){t.method="POST",this.request(t)},delete:function(t){t.method="DELETE",this.request(t)},get:function(t){t.method="GET",this.request(t)},put:function(t){t.method="PUT",this.request(t)},request:function(t){var e=this.API_ROOT,i="";try{i=uni.getStorageSync("token")}catch(o){}var s="";try{s=uni.getStorageSync("cookie")}catch(o){}console.log("[api][request] url:",t.url),console.log("[api][request] method:",t.method),console.log("[api][request] options.data:",t.data),console.log("[api][request] cookie:",s),uni.request({url:e+t.url,data:t.data,method:t.method?t.method:"POST",header:{"Content-Type":"application/json","XX-Token":i,"XX-Device-Type":n,Cookie:s},success:function(e){var i=e.data;2001==i.ret_code?uni.showModal({title:"提示",content:"登录已过期，请重新登录",success:function(t){t.confirm&&uni.navigateTo({url:"../login/login"})}}):t.success(i,e.header)},fail:function(e){t.fail&&t.fail(e)},complete:t.complete?t.complete:null})},uploadFile:function(t){t.url=this.API_ROOT+t.url;var e=this.getToken(),i=this,s=t.success;t.success=function(t){var e=JSON.parse(t.data);0==e.code&&e.data&&e.data.code&&10001==e.data.code?i.login():s(e)},t.header={"XX-Token":e,"XX-Device-Type":n},uni.uploadFile(t)},getToken:function(){var t="";try{t=uni.getStorageSync("token")}catch(e){}return t}}}}]);