(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-save-setEmail"],{1322:function(t,e,i){"use strict";i.r(e);var n=i("9c71"),a=i("792c");for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);i("bd70");var r,c=i("f0c5"),s=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"2fb76144",null,!1,n["a"],r);e["default"]=s.exports},"792c":function(t,e,i){"use strict";i.r(e);var n=i("9f13"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=a.a},"9c71":function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"forget-bg"},[i("v-uni-view",{staticClass:"forget-card"},[i("v-uni-view",{staticClass:"forget-input forget-margin-b"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请输入邮箱号"},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1),i("v-uni-view",{staticClass:"forget-input forget-margin-b"},[i("v-uni-view",{staticClass:"verify-left"},[i("v-uni-input",{attrs:{type:"number",placeholder:"验证码"},model:{value:t.verification_code,callback:function(e){t.verification_code=e},expression:"verification_code"}})],1),i("v-uni-view",{staticClass:"verify-right"},[i("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"verify-btn",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onGetVerificationCode.apply(void 0,arguments)}}},[t._v("获取验证码")]),i("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"verify-btn",attrs:{type:"primary"}},[t._v(t._s(t.count)+" s")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"forget-btn"},[i("v-uni-button",{staticClass:"landing",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setEmailSubmit.apply(void 0,arguments)}}},[t._v("绑 定")])],1)],1)},o=[];i.d(e,"b",function(){return a}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return n})},"9f13":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("c78e"),a={data:function(){return{account:"",verification_code:"",show:!0,count:"",timer:null}},methods:{setEmailSubmit:function(){var t=this.isEmail(this.account);0!=t?""!=this.verification_code.length?n.post({url:"user/profile/bindingEmail",data:{email:this.account,verification_code:this.verification_code},success:function(t){1==t.code&&(uni.showToast({title:t.msg,icon:"success",duration:1e3}),uni.setStorageSync("upload",1),setTimeout(function(){uni.navigateBack({delta:2})},1e3)),0==t.code&&uni.showToast({title:t.msg,icon:"none",duration:2e3})}}):uni.showToast({icon:"none",title:"请输入验证码"}):uni.showToast({icon:"none",title:"邮箱格式错误"})},onGetVerificationCode:function(){var t=this,e=this.isEmail(this.account);0!=e?n.post({url:"user/verification_code/send",data:{username:this.account},success:function(e){if(1==e.code){uni.showToast({title:e.msg,icon:"none",duration:3e3});var i=60;t.timer||(t.count=i,t.show=!1,t.timer=setInterval(function(){t.count>0&&t.count<=i?t.count--:(t.show=!0,clearInterval(t.timer),t.timer=null)},1e3))}0==e.code&&uni.showToast({title:e.msg,icon:"none",duration:3e3})}}):uni.showToast({icon:"none",title:"邮箱格式错误"})},isEmail:function(t){var e=/^([a-z0-9A-Z]+[-|\.]?)+[a-z0-9A-Z]@([a-z0-9A-Z]+(-[a-z0-9A-Z]+)?\.)+[a-zA-Z]{2,}$/;return e.test(t)}},onLoad:function(){}};e.default=a},a905:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"uni-page-body[data-v-2fb76144]{background-color:#f1f1f1}.verify-left[data-v-2fb76144]{width:calc(100% - %?260?%)}.verify-right[data-v-2fb76144]{padding-left:%?20?%}.verify-btn[data-v-2fb76144]{height:%?80?%;line-height:%?80?%;font-size:%?28?%;width:%?240?%;border-radius:%?8?%;background:-webkit-linear-gradient(left,#86b5f4,#4790ef);background:linear-gradient(left,#86b5f4,#4790ef)}.verify-left[data-v-2fb76144],.verify-right[data-v-2fb76144]{float:left}.landing[data-v-2fb76144]{height:%?84?%;line-height:%?84?%;border-radius:%?10?%;font-size:%?32?%;background:-webkit-linear-gradient(left,#86b5f4,#4790ef);background:linear-gradient(left,#86b5f4,#4790ef)}.forget-btn[data-v-2fb76144]{padding:%?10?% %?20?%;margin-top:%?300?%}.forget-input uni-input[data-v-2fb76144]{background:#f2f5f6;font-size:%?28?%;padding:%?10?% %?25?%;height:%?62?%;line-height:%?62?%;border-radius:%?1?%}.forget-margin-b[data-v-2fb76144]{margin-bottom:%?25?%}.forget-input[data-v-2fb76144]{padding:%?10?% %?20?%;overflow:auto}.forget-card[data-v-2fb76144]{background:#fff;border-radius:%?12?%;padding:%?60?% %?25?%;box-shadow:0 %?6?% %?18?% rgba(0,0,0,.12);position:relative;margin-top:%?120?%}.forget-bg[data-v-2fb76144]{height:%?260?%;padding:%?25?%;background:-webkit-linear-gradient(#86b5f4,#4790ef);background:linear-gradient(#86b5f4,#4790ef)}body.?%PAGE?%[data-v-2fb76144]{background-color:#f1f1f1}",""])},ba22:function(t,e,i){var n=i("a905");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("3f8efaa0",n,!0,{sourceMap:!1,shadowMode:!1})},bd70:function(t,e,i){"use strict";var n=i("ba22"),a=i.n(n);a.a},c78e:function(t,e,i){"use strict";var n="web",a=(getApp(),"http://yun.jdwanxiang.com");t.exports={HOST:a,API_ROOT:a+"/api/",DeviceType:n,post:function(t){t.method="POST",this.request(t)},delete:function(t){t.method="DELETE",this.request(t)},get:function(t){t.method="GET",this.request(t)},put:function(t){t.method="PUT",this.request(t)},request:function(t){var e=this.API_ROOT,i="";try{i=uni.getStorageSync("token")}catch(o){}var a="";try{a=uni.getStorageSync("cookie")}catch(o){}console.log("[api][request] url:",t.url),console.log("[api][request] method:",t.method),console.log("[api][request] options.data:",t.data),console.log("[api][request] cookie:",a),uni.request({url:e+t.url,data:t.data,method:t.method?t.method:"POST",header:{"Content-Type":"application/json","XX-Token":i,"XX-Device-Type":n,Cookie:a},success:function(e){var i=e.data;2001==i.ret_code?uni.showModal({title:"提示",content:"登录已过期，请重新登录",success:function(t){t.confirm&&uni.navigateTo({url:"../login/login"})}}):t.success(i,e.header)},fail:function(e){t.fail&&t.fail(e)},complete:t.complete?t.complete:null})},uploadFile:function(t){t.url=this.API_ROOT+t.url;var e=this.getToken(),i=this,a=t.success;t.success=function(t){var e=JSON.parse(t.data);0==e.code&&e.data&&e.data.code&&10001==e.data.code?i.login():a(e)},t.header={"XX-Token":e,"XX-Device-Type":n},uni.uploadFile(t)},getToken:function(){var t="";try{t=uni.getStorageSync("token")}catch(e){}return t}}}}]);