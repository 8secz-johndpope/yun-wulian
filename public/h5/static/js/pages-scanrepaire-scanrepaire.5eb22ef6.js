(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-scanrepaire-scanrepaire"],{"1a2a2":function(n,t,e){"use strict";var i,a=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("v-uni-view",[e("v-uni-view",{staticClass:"login-bg"},[e("v-uni-view",{staticClass:"login-card"},[e("v-uni-view",{staticClass:"login-head"},[n._v("扫码报修")]),e("v-uni-view",{staticClass:"uni-btn-v",staticStyle:{"text-align":"center","margin-bottom":"30px"}},[e("uni-icon",{attrs:{type:"scan",size:"60",color:"#4790EF"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.scan.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"login-input login-margin-b"},[n._v("设备序列号："+n._s(n.dessid))]),e("v-uni-view",{staticClass:"login-input"},[n._v("故障现象："),e("v-uni-input",{attrs:{type:"text",placeholder:"描述故障现象"},model:{value:n.deshow,callback:function(t){n.deshow=t},expression:"deshow"}})],1)],1),e("v-uni-view",{staticClass:"login-btn"},[e("v-uni-button",{staticClass:"landing",attrs:{loading:n.loading,type:"primary"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.repair.apply(void 0,arguments)}}},[n._v(n._s(n.loading?"提交中...":"提 交"))])],1)],1)],1)},r=[];e.d(t,"b",function(){return a}),e.d(t,"c",function(){return r}),e.d(t,"a",function(){return i})},"79a0":function(n,t,e){var i=e("c610");"string"===typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);var a=e("4f06").default;a("6147120e",i,!0,{sourceMap:!1,shadowMode:!1})},b79f:function(n,t,e){"use strict";e.r(t);var i=e("f43a"),a=e.n(i);for(var r in i)"default"!==r&&function(n){e.d(t,n,function(){return i[n]})}(r);t["default"]=a.a},c610:function(n,t,e){t=n.exports=e("2350")(!1),t.push([n.i,".scan-result[data-v-2cf24480]{min-height:%?50?%;line-height:%?50?%}.logbt[data-v-2cf24480]{background:none;border:none!important;position:fixed;display:inline;margin-left:%?-76?%}.logbt[data-v-2cf24480]:after{border:none!important}uni-image[data-v-2cf24480]{width:%?100?%;height:%?100?%}.landing[data-v-2cf24480]{height:%?84?%;line-height:%?84?%;border-radius:%?44?%;font-size:%?32?%;background:-webkit-linear-gradient(left,#86b5f4,#4790ef);background:linear-gradient(left,#86b5f4,#4790ef)}.login-btn[data-v-2cf24480]{padding:%?10?% %?20?%;margin-top:%?10?%}.login-function[data-v-2cf24480]{overflow:auto;padding:%?20?% %?20?% %?30?% %?20?%}.login-forget[data-v-2cf24480]{float:left;font-size:%?26?%;color:#999}.login-register[data-v-2cf24480]{color:#666;float:right;font-size:%?26?%}.login-input uni-input[data-v-2cf24480]{background:#f2f5f6;font-size:%?28?%;padding:%?10?% %?25?%;height:%?62?%;line-height:%?62?%;border-radius:%?8?%}.login-margin-b[data-v-2cf24480]{margin-bottom:%?25?%}.login-input[data-v-2cf24480]{padding:%?10?% %?20?%}.login-head[data-v-2cf24480]{font-size:%?34?%;text-align:center;padding:%?25?% %?10?% %?55?% %?10?%}.login-card[data-v-2cf24480]{background:#fff;border-radius:%?12?%;padding:%?10?% %?25?%;box-shadow:0 %?6?% %?18?% rgba(0,0,0,.12);position:relative;margin-top:%?120?%}.login-bg[data-v-2cf24480]{height:%?260?%;padding:%?25?%;background:-webkit-linear-gradient(#86b5f4,#4790ef);background:linear-gradient(#86b5f4,#4790ef)}",""])},e6db:function(n,t,e){"use strict";var i=e("79a0"),a=e.n(i);a.a},f43a:function(n,t,e){"use strict";var i=e("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e("96cf");var a=i(e("3b8d")),r=(i(e("ba11")),i(e("365e"))),o=e("c78e"),s={data:function(){return{title:"scanCode",result:"",loading:!1,dessid:"",deshow:"",user:""}},components:{uniIcon:r.default},onLoad:function(){uni.getStorageSync("user")},methods:{scan:function(){var n=(0,a.default)(regeneratorRuntime.mark(function n(){var t=this;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:uni.scanCode({success:function(n){t.dessid=n.result},fail:function(n){}});case 1:case"end":return n.stop()}},n,this)}));function t(){return n.apply(this,arguments)}return t}(),repair:function(){var n=(0,a.default)(regeneratorRuntime.mark(function n(){var t,e,i,a=this;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:if(t=uni.getStorageSync("user"),e=t.user_nickname,i=t.branch,this.loading=!0,""!=this.dessid){n.next=8;break}return uni.showToast({icon:"none",title:"请输入序列号（扫码自动显示）"}),this.loading=!1,n.abrupt("return");case 8:if(""!=this.deshow){n.next=12;break}return uni.showToast({icon:"none",title:"请输入故障现象"}),this.loading=!1,n.abrupt("return");case 12:o.post({url:"device/Index/repaire",data:{dessid:this.dessid,deshow:this.deshow,device_type:o.DeviceType,branch:i,user_nickname:e},success:function(n){console.log(n),1==n.code&&(a.loading=!1,uni.showToast({duration:500,title:n.msg}),uni.reLaunch({url:"../user/user"}),setTimeout(function(n){uni.navigateBack()},500)),0==n.code&&(a.loading=!1,uni.showToast({duration:1500,icon:"none",title:n.msg}))}});case 13:case"end":return n.stop()}},n,this)}));function t(){return n.apply(this,arguments)}return t}()}};t.default=s},fad7:function(n,t,e){"use strict";e.r(t);var i=e("1a2a2"),a=e("b79f");for(var r in a)"default"!==r&&function(n){e.d(t,n,function(){return a[n]})}(r);e("e6db");var o,s=e("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"2cf24480",null,!1,i["a"],o);t["default"]=c.exports}}]);